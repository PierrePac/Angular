{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/produits.service\";\nimport * as i3 from \"@angular/common\";\nfunction ProduitsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"img\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3)(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h5\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProduitsComponent_div_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onViewproduit());\n    });\n    i0.ɵɵtext(8, \"voire le Produit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const photo_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000/\", photo_r1.src, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"alt\", ctx_r0.produit.shortLibel);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(photo_r1.src);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.produit.shortLibel);\n  }\n}\nexport class ProduitsComponent {\n  constructor(router, route, produitService) {\n    this.router = router;\n    this.route = route;\n    this.produitService = produitService;\n  }\n  ngOnInit() {\n    this.photos$ = this.produitService.getMajorPictureOneProduit(this.produit.id);\n    console.log(this.photos$);\n  }\n  onViewproduit() {\n    const categorieId = +this.route.snapshot.params['id'];\n    const produitId = this.router.navigateByUrl(`categories/${categorieId}/produits/${this.produit.id}`);\n  }\n}\nProduitsComponent.ɵfac = function ProduitsComponent_Factory(t) {\n  return new (t || ProduitsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.produitsService));\n};\nProduitsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProduitsComponent,\n  selectors: [[\"app-produits\"]],\n  inputs: {\n    produit: \"produit\",\n    photo: \"photo\"\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"card mx-2 mt-3 h-100\", \"style\", \"width: 18rem\", 4, \"ngIf\"], [1, \"card\", \"mx-2\", \"mt-3\", \"h-100\", 2, \"width\", \"18rem\"], [1, \"card-img-top\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"]],\n  template: function ProduitsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProduitsComponent_div_0_Template, 9, 4, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.photos$));\n    }\n  },\n  dependencies: [i3.NgIf, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAAAA,8BAAyF;IACvFA,yBAA+F;IAC7FA,8BAAuB;IAClBA,YAAe;IAAAA,iBAAI;IACtBA,6BAAuB;IAAAA,YAAsB;IAAAA,iBAAK;IAClDA,iCAAkE;IAA1DA;MAAAA;MAAA;MAAA,OAASA,qCAAe;IAAA,EAAC;IAAiCA,gCAAgB;IAAAA,iBAAS;;;;;IAJ1FA,eAA2C;IAA3CA,8FAA2C;IAAsBA,+CAAwB;IAEvFA,eAAe;IAAfA,kCAAe;IACKA,eAAsB;IAAtBA,+CAAsB;;;ACQnD,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,MAAc,EACdC,KAAqB,EACrBC,cAA+B;IAF/B,WAAM,GAANF,MAAM;IACN,UAAK,GAALC,KAAK;IACL,mBAAc,GAAdC,cAAc;EAAoB;EAGtDC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACF,cAAc,CAACG,yBAAyB,CAAC,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC;IAC7EC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;EAC3B;EAEAM,aAAa;IACX,MAAMC,WAAW,GAAG,CAAC,IAAI,CAACV,KAAK,CAACW,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IACrD,MAAMC,SAAS,GACf,IAAI,CAACd,MAAM,CAACe,aAAa,CAAC,cAAcJ,WAAW,aAAa,IAAI,CAACL,OAAO,CAACC,EAAE,EAAE,CAAC;EACpF;;AApBWT,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAkB;EAAAC;IAAAX;IAAAY;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ9BzB,kEAOQ;;;;MAPgDA,wDAAsB","names":["i0","ProduitsComponent","constructor","router","route","produitService","ngOnInit","photos$","getMajorPictureOneProduit","produit","id","console","log","onViewproduit","categorieId","snapshot","params","produitId","navigateByUrl","selectors","inputs","photo","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/pierre/Documents/GitHub/CDA_fil_rouge/Angular/green-village/src/app/produits/produits.component.html","/home/pierre/Documents/GitHub/CDA_fil_rouge/Angular/green-village/src/app/produits/produits.component.ts"],"sourcesContent":["<div class=\"card mx-2 mt-3 h-100\" style=\"width: 18rem\" *ngIf=\"photos$ | async as photo\" >\n  <img src=\"http://127.0.0.1:8000/{{ photo.src }}\" class=\"card-img-top\" [alt]=produit.shortLibel>\n    <div class=\"card-body\">\n      <p>{{ photo.src }}</p>\n      <h5 class=\"card-title\">{{produit.shortLibel}}</h5>\n      <button (click)=\"onViewproduit()\" class=\"btn btn-outline-primary\">voire le Produit</button>\n    </div>\n  </div>\n  ","import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Photo } from '../models/photo.model';\nimport { Produit } from '../models/produit.model';\nimport { produitsService } from '../services/produits.service';\n\n@Component({\n  selector: 'app-produits',\n  templateUrl: './produits.component.html',\n  styleUrls: ['./produits.component.scss']\n})\nexport class ProduitsComponent implements OnInit{\n  @Input() produit!: Produit;\n  @Input() photo!: Photo;\n\n  photos$!: Observable<Photo>;\n\n  constructor(private router: Router,\n              private route: ActivatedRoute,\n              private produitService: produitsService,){}\n\n\n  ngOnInit(): void {\n    this.photos$ = this.produitService.getMajorPictureOneProduit(this.produit.id);\n    console.log(this.photos$)\n  }\n\n  onViewproduit(){\n    const categorieId = +this.route.snapshot.params['id'];\n    const produitId = \n    this.router.navigateByUrl(`categories/${categorieId}/produits/${this.produit.id}`)\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}